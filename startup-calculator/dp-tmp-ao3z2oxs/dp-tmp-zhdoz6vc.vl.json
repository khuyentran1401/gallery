{"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "layer": [{"mark": {"type": "area", "opacity": 0.75}, "encoding": {"x": {"type": "temporal", "field": "date", "timeUnit": "yearmonth"}, "y": {"type": "quantitative", "field": "adj_cash", "scale": {"domain": [-100000, 200000]}}}, "selection": {"selector001": {"type": "single", "fields": ["month_growth"], "bind": {"input": "range", "max": 100, "min": 0, "name": "Monthly growth rate (%)", "step": 0.1}, "init": {"month_growth": 8}}, "selector002": {"type": "interval", "bind": "scales", "encodings": ["x", "y"]}}, "transform": [{"window": [{"op": "count", "as": "index"}]}, {"calculate": "(pow((1 + (selector001.month_growth / 100)),datum.index) * 100)", "as": "forecast_revenue"}, {"window": [{"op": "sum", "field": "forecast_revenue", "as": "forecast_total_revenue"}], "frame": [null, 0]}, {"calculate": "(datum.cash_0g + datum.forecast_total_revenue)", "as": "adj_cash"}]}, {"mark": {"type": "line", "color": "#f26522", "size": 5}, "encoding": {"x": {"type": "temporal", "field": "date", "timeUnit": "yearmonth"}, "y": {"type": "quantitative", "field": "forecast_total_revenue"}}, "transform": [{"window": [{"op": "count", "as": "index"}]}, {"calculate": "(pow((1 + (selector001.month_growth / 100)),datum.index) * 100)", "as": "forecast_revenue"}, {"window": [{"op": "sum", "field": "forecast_revenue", "as": "forecast_total_revenue"}], "frame": [null, 0]}, {"calculate": "(datum.cash_0g + datum.forecast_total_revenue)", "as": "adj_cash"}]}, {"mark": {"type": "line", "color": "purple", "size": 5}, "encoding": {"x": {"type": "temporal", "field": "date", "timeUnit": "yearmonth"}, "y": {"type": "quantitative", "field": "forecast_revenue"}}, "transform": [{"window": [{"op": "count", "as": "index"}]}, {"calculate": "(pow((1 + (selector001.month_growth / 100)),datum.index) * 100)", "as": "forecast_revenue"}, {"window": [{"op": "sum", "field": "forecast_revenue", "as": "forecast_total_revenue"}], "frame": [null, 0]}, {"calculate": "(datum.cash_0g + datum.forecast_total_revenue)", "as": "adj_cash"}]}], "data": {"name": "data-b2a9ce1e4aba14e7185ea2e9f92384c3"}, "width": 850, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-b2a9ce1e4aba14e7185ea2e9f92384c3": [{"date": "2020-06-30T17:32:51.408678", "cash_0g": 100000.0}, {"date": "2020-07-31T17:32:51.408678", "cash_0g": 91766.66666666667}, {"date": "2020-08-31T17:32:51.408678", "cash_0g": 83533.33333333334}, {"date": "2020-09-30T17:32:51.408678", "cash_0g": 75300.00000000001}, {"date": "2020-10-31T17:32:51.408678", "cash_0g": 67066.66666666669}, {"date": "2020-11-30T17:32:51.408678", "cash_0g": 58833.33333333335}, {"date": "2020-12-31T17:32:51.408678", "cash_0g": 50600.000000000015}, {"date": "2021-01-31T17:32:51.408678", "cash_0g": 42366.66666666668}, {"date": "2021-02-28T17:32:51.408678", "cash_0g": 34133.33333333334}, {"date": "2021-03-31T17:32:51.408678", "cash_0g": 25900.000000000007}, {"date": "2021-04-30T17:32:51.408678", "cash_0g": 17666.66666666667}, {"date": "2021-05-31T17:32:51.408678", "cash_0g": 9433.333333333338}, {"date": "2021-06-30T17:32:51.408678", "cash_0g": 1200.0000000000036}, {"date": "2021-07-31T17:32:51.408678", "cash_0g": -7033.33333333333}, {"date": "2021-08-31T17:32:51.408678", "cash_0g": -15266.666666666664}, {"date": "2021-09-30T17:32:51.408678", "cash_0g": -23500.0}, {"date": "2021-10-31T17:32:51.408678", "cash_0g": -31733.333333333336}, {"date": "2021-11-30T17:32:51.408678", "cash_0g": -39966.66666666667}, {"date": "2021-12-31T17:32:51.408678", "cash_0g": -48200.00000000001}, {"date": "2022-01-31T17:32:51.408678", "cash_0g": -56433.33333333334}, {"date": "2022-02-28T17:32:51.408678", "cash_0g": -64666.66666666668}, {"date": "2022-03-31T17:32:51.408678", "cash_0g": -72900.00000000001}, {"date": "2022-04-30T17:32:51.408678", "cash_0g": -81133.33333333334}, {"date": "2022-05-31T17:32:51.408678", "cash_0g": -89366.66666666667}]}}